{"ast":null,"code":"const ChiefSlider = () => {\n  'use strict';\n\n  const SELECTOR_ITEM = '.slider__item';\n  const SELECTOR_ITEMS = '.slider__items';\n  const SELECTOR_WRAPPER = '.slider__wrapper';\n  const SELECTOR_PREV = '.slider__control[data-slide=\"prev\"]';\n  const SELECTOR_NEXT = '.slider__control[data-slide=\"next\"]';\n  const SELECTOR_INDICATOR = '.slider__indicators>li';\n  const SLIDER_TRANSITION_OFF = 'slider_disable-transition';\n  const CLASS_CONTROL = 'slider__control';\n  const CLASS_CONTROL_HIDE = 'slider__control_hide';\n  const CLASS_ITEM_ACTIVE = 'slider__item_active';\n  const CLASS_INDICATOR_ACTIVE = 'active';\n\n  function hasTouchDevice() {\n    return !!('ontouchstart' in window || navigator.maxTouchPoints);\n  }\n\n  function hasElementInVew($elem) {\n    const rect = $elem.getBoundingClientRect();\n    const windowHeight = window.innerHeight || document.documentElement.clientHeight;\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth;\n    const vertInView = rect.top <= windowHeight && rect.top + rect.height >= 0;\n    const horInView = rect.left <= windowWidth && rect.left + rect.width >= 0;\n    return vertInView && horInView;\n  }\n\n  function ChiefSlider($elem, config) {\n    // configuration of the slider\n    this._config = {\n      loop: true,\n      autoplay: true,\n      interval: 1000,\n      pauseOnHover: true,\n      refresh: true,\n      swipe: true\n    }; // slider properties\n\n    this._widthItem = 0;\n    this._widthWrapper = 0;\n    this._itemsInVisibleArea = 0;\n    this._transform = 0; // текущее значение трансформации\n\n    this._transformStep = 0; // значение шага трансформации\n\n    this._intervalId = null; // elements of slider\n\n    this._$root = null; // root element of slider (default \".slider__item\")\n\n    this._$wrapper = null; // element with class \".slider__wrapper\"\n\n    this._$items = null; // element with class \".slider__items\"\n\n    this._$itemList = null; // elements with class \".slider__item\"\n\n    this._$controlPrev = null; // element with class .slider__control[data-slide=\"prev\"]\n\n    this._$controlNext = null; // element with class .slider__control[data-slide=\"next\"]\n\n    this._$indicatorList = null; // индикаторы\n    // min and min order\n\n    this._minOrder = 0;\n    this._maxOrder = 0; // items with min and max order\n\n    this._$itemByMinOrder = null;\n    this._$itemByMaxOrder = null; // min and max value of translate\n\n    this._minTranslate = 0;\n    this._maxTranslate = 0; // default slider direction\n\n    this._direction = 'next'; // determines whether the position of item needs to be determined\n\n    this._updateItemPositionFlag = false;\n    this._activeItems = [];\n    this._isTouchDevice = hasTouchDevice(); // constructor\n\n    this._init($elem, config);\n\n    this._addEventListener();\n  } // initial setup of slider\n\n\n  ChiefSlider.prototype._init = function ($root, config) {\n    // elements of slider\n    this._$root = $root;\n    this._$itemList = $root.querySelectorAll(SELECTOR_ITEM);\n    this._$items = $root.querySelector(SELECTOR_ITEMS);\n    this._$wrapper = $root.querySelector(SELECTOR_WRAPPER);\n    this._$controlPrev = $root.querySelector(SELECTOR_PREV);\n    this._$controlNext = $root.querySelector(SELECTOR_NEXT);\n    this._$indicatorList = $root.querySelectorAll(SELECTOR_INDICATOR); // create some constants\n\n    const $itemList = this._$itemList;\n    const widthItem = $itemList[0].offsetWidth;\n    const widthWrapper = this._$wrapper.offsetWidth;\n    const itemsInVisibleArea = Math.round(widthWrapper / widthItem); // initial setting properties\n\n    this._widthItem = widthItem;\n    this._widthWrapper = widthWrapper;\n    this._itemsInVisibleArea = itemsInVisibleArea;\n    this._transformStep = 100 / itemsInVisibleArea;\n\n    for (let key in config) {\n      if (this._config.hasOwnProperty(key)) {\n        this._config[key] = config[key];\n      }\n    } // initial setting order and translate items\n\n\n    for (let i = 0, length = $itemList.length; i < length; i++) {\n      $itemList[i].dataset.index = i;\n      $itemList[i].dataset.order = i;\n      $itemList[i].dataset.translate = 0;\n\n      if (i < itemsInVisibleArea) {\n        this._activeItems.push(i);\n      }\n    }\n\n    this._updateClassForActiveItems(); // hide prev arrow for non-infinite slider\n\n\n    if (!this._config.loop) {\n      if (this._$controlPrev) {\n        this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\n      }\n\n      return;\n    } // translate last item before first\n\n\n    const count = $itemList.length - 1;\n    const translate = -$itemList.length * 100;\n    $itemList[count].dataset.order = -1;\n    $itemList[count].dataset.translate = -$itemList.length * 100;\n    $itemList[count].style.transform = 'translateX('.concat(translate, '%)'); // update values of extreme properties\n\n    this._updateExtremeProperties();\n\n    this._updateIndicators(); // calling _autoplay\n\n\n    this._autoplay();\n  }; // подключения обработчиков событий для слайдера\n\n\n  ChiefSlider.prototype._addEventListener = function () {\n    const $root = this._$root; // on click\n\n    $root.addEventListener('click', this._eventHandler.bind(this)); // on hover\n\n    if (this._config.autoplay && this._config.pauseOnHover) {\n      $root.addEventListener('mouseenter', function () {\n        this._autoplay('stop');\n      }.bind(this));\n      $root.addEventListener('mouseleave', function () {\n        this._autoplay();\n      }.bind(this));\n    } // on resize\n\n\n    if (this._config.refresh) {\n      window.addEventListener('resize', function () {\n        window.requestAnimationFrame(this._refresh.bind(this));\n      }.bind(this));\n    } // on transitionstart and transitionend\n\n\n    if (this._config.loop) {\n      this._$items.addEventListener('transitionstart', function () {\n        // transitionstart\n        this._updateItemPositionFlag = true;\n        window.requestAnimationFrame(this._updateItemPosition.bind(this));\n      }.bind(this));\n\n      this._$items.addEventListener('transitionend', function () {\n        // transitionend\n        this._updateItemPositionFlag = false;\n      }.bind(this));\n    } // on touchstart and touchend\n\n\n    if (this._isTouchDevice && this._config.swipe) {\n      $root.addEventListener('touchstart', function (e) {\n        this._touchStartCoord = e.changedTouches[0].clientX;\n      }.bind(this));\n      $root.addEventListener('touchend', function (e) {\n        const touchEndCoord = e.changedTouches[0].clientX;\n        const delta = touchEndCoord - this._touchStartCoord;\n\n        if (delta > 50) {\n          this._moveToPrev();\n        } else if (delta < -50) {\n          this._moveToNext();\n        }\n      }.bind(this));\n    } // on mousedown and mouseup\n\n\n    if (!this._isTouchDevice && this._config.swipe) {\n      $root.addEventListener('mousedown', function (e) {\n        this._touchStartCoord = e.clientX;\n      }.bind(this));\n      $root.addEventListener('mouseup', function (e) {\n        const touchEndCoord = e.clientX;\n        const delta = touchEndCoord - this._touchStartCoord;\n\n        if (delta > 50) {\n          this._moveToPrev();\n        } else if (delta < -50) {\n          this._moveToNext();\n        }\n      }.bind(this));\n    }\n  }; // update values of extreme properties\n\n\n  ChiefSlider.prototype._updateExtremeProperties = function () {\n    const $itemList = this._$itemList;\n    this._minOrder = +$itemList[0].dataset.order;\n    this._maxOrder = this._minOrder;\n    this._$itemByMinOrder = $itemList[0];\n    this._$itemByMaxOrder = $itemList[0];\n    this._minTranslate = +$itemList[0].dataset.translate;\n    this._maxTranslate = this._minTranslate;\n\n    for (let i = 0, length = $itemList.length; i < length; i++) {\n      const $item = $itemList[i];\n      const order = +$item.dataset.order;\n\n      if (order < this._minOrder) {\n        this._minOrder = order;\n        this._$itemByMinOrder = $item;\n        this._minTranslate = +$item.dataset.translate;\n      } else if (order > this._maxOrder) {\n        this._maxOrder = order;\n        this._$itemByMaxOrder = $item;\n        this._minTranslate = +$item.dataset.translate;\n      }\n    }\n  }; // update position of item\n\n\n  ChiefSlider.prototype._updateItemPosition = function () {\n    if (!this._updateItemPositionFlag) {\n      return;\n    }\n\n    const $wrapper = this._$wrapper;\n    const $wrapperClientRect = $wrapper.getBoundingClientRect();\n    const widthHalfItem = $wrapperClientRect.width / this._itemsInVisibleArea / 2;\n    const count = this._$itemList.length;\n\n    if (this._direction === 'next') {\n      const wrapperLeft = $wrapperClientRect.left;\n      const $min = this._$itemByMinOrder;\n      let translate = this._minTranslate;\n      const clientRect = $min.getBoundingClientRect();\n\n      if (clientRect.right < wrapperLeft - widthHalfItem) {\n        $min.dataset.order = this._minOrder + count;\n        translate += count * 100;\n        $min.dataset.translate = translate;\n        $min.style.transform = 'translateX('.concat(translate, '%)'); // update values of extreme properties\n\n        this._updateExtremeProperties();\n      }\n    } else {\n      const wrapperRight = $wrapperClientRect.right;\n      const $max = this._$itemByMaxOrder;\n      let translate = this._maxTranslate;\n      const clientRect = $max.getBoundingClientRect();\n\n      if (clientRect.left > wrapperRight + widthHalfItem) {\n        $max.dataset.order = this._maxOrder - count;\n        translate -= count * 100;\n        $max.dataset.translate = translate;\n        $max.style.transform = 'translateX('.concat(translate, '%)'); // update values of extreme properties\n\n        this._updateExtremeProperties();\n      }\n    } // updating...\n\n\n    requestAnimationFrame(this._updateItemPosition.bind(this));\n  }; // _updateClassForActiveItems\n\n\n  ChiefSlider.prototype._updateClassForActiveItems = function () {\n    const activeItems = this._activeItems;\n    const $itemList = this._$itemList;\n\n    for (let i = 0, length = $itemList.length; i < length; i++) {\n      const $item = $itemList[i];\n      const index = +$item.dataset.index;\n\n      if (activeItems.indexOf(index) > -1) {\n        $item.classList.add(CLASS_ITEM_ACTIVE);\n      } else {\n        $item.classList.remove(CLASS_ITEM_ACTIVE);\n      }\n    }\n  }; // _updateIndicators\n\n\n  ChiefSlider.prototype._updateIndicators = function () {\n    const $indicatorList = this._$indicatorList;\n    const $itemList = this._$itemList;\n\n    if (!$indicatorList.length) {\n      return;\n    }\n\n    for (let index = 0, length = $itemList.length; index < length; index++) {\n      const $item = $itemList[index];\n\n      if ($item.classList.contains(CLASS_ITEM_ACTIVE)) {\n        $indicatorList[index].classList.add(CLASS_INDICATOR_ACTIVE);\n      } else {\n        $indicatorList[index].classList.remove(CLASS_INDICATOR_ACTIVE);\n      }\n    }\n  }; // move slides\n\n\n  ChiefSlider.prototype._move = function () {\n    if (!hasElementInVew(this._$root)) {\n      return;\n    }\n\n    const step = this._direction === 'next' ? -this._transformStep : this._transformStep;\n    const transform = this._transform + step;\n\n    if (!this._config.loop) {\n      const endTransformValue = this._transformStep * (this._$itemList.length - this._itemsInVisibleArea);\n\n      if (transform < -endTransformValue || transform > 0) {\n        return;\n      }\n\n      this._$controlPrev.classList.remove(CLASS_CONTROL_HIDE);\n\n      this._$controlNext.classList.remove(CLASS_CONTROL_HIDE);\n\n      if (transform === -endTransformValue) {\n        this._$controlNext.classList.add(CLASS_CONTROL_HIDE);\n      } else if (transform === 0) {\n        this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\n      }\n    }\n\n    const activeIndex = [];\n\n    if (this._direction === 'next') {\n      for (let i = 0, length = this._activeItems.length; i < length; i++) {\n        let index = this._activeItems[i];\n        let newIndex = ++index;\n\n        if (newIndex > this._$itemList.length - 1) {\n          newIndex -= this._$itemList.length;\n        }\n\n        activeIndex.push(newIndex);\n      }\n    } else {\n      for (let i = 0, length = this._activeItems.length; i < length; i++) {\n        let index = this._activeItems[i];\n        let newIndex = --index;\n\n        if (newIndex < 0) {\n          newIndex += this._$itemList.length;\n        }\n\n        activeIndex.push(newIndex);\n      }\n    }\n\n    this._activeItems = activeIndex;\n\n    this._updateClassForActiveItems();\n\n    this._updateIndicators();\n\n    this._transform = transform;\n    this._$items.style.transform = 'translateX('.concat(transform, '%)');\n  }; // _moveToNext\n\n\n  ChiefSlider.prototype._moveToNext = function () {\n    this._direction = 'next';\n\n    this._move();\n  }; // _moveToPrev\n\n\n  ChiefSlider.prototype._moveToPrev = function () {\n    this._direction = 'prev';\n\n    this._move();\n  }; // _moveTo\n\n\n  ChiefSlider.prototype._moveTo = function (index) {\n    const $indicatorList = this._$indicatorList;\n    let nearestIndex = null;\n    let diff = null;\n\n    for (let i = 0, length = $indicatorList.length; i < length; i++) {\n      const $indicator = $indicatorList[i];\n\n      if ($indicator.classList.contains(CLASS_INDICATOR_ACTIVE)) {\n        const slideTo = +$indicator.dataset.slideTo;\n\n        if (diff === null) {\n          nearestIndex = slideTo;\n          diff = Math.abs(index - nearestIndex);\n        } else {\n          if (Math.abs(index - slideTo) < diff) {\n            nearestIndex = slideTo;\n            diff = Math.abs(index - nearestIndex);\n          }\n        }\n      }\n    }\n\n    diff = index - nearestIndex;\n\n    if (diff === 0) {\n      return;\n    }\n\n    this._direction = diff > 0 ? 'next' : 'prev';\n\n    for (let i = 1; i <= Math.abs(diff); i++) {\n      this._move();\n    }\n  }; // обработчик click для слайдера\n\n\n  ChiefSlider.prototype._eventHandler = function (e) {\n    const $target = e.target;\n\n    this._autoplay('stop');\n\n    if ($target.classList.contains(CLASS_CONTROL)) {\n      // при клике на кнопки влево и вправо\n      e.preventDefault();\n      this._direction = $target.dataset.slide;\n\n      this._move();\n    } else if ($target.dataset.slideTo) {\n      // при клике на индикаторы\n      const index = +$target.dataset.slideTo;\n\n      this._moveTo(index);\n    }\n\n    this._autoplay();\n  }; // _autoplay\n\n\n  ChiefSlider.prototype._autoplay = function (action) {\n    if (!this._config.autoplay) {\n      return;\n    }\n\n    if (action === 'stop') {\n      clearInterval(this._intervalId);\n      this._intervalId = null;\n      return;\n    }\n\n    if (this._intervalId === null) {\n      this._intervalId = setInterval(function () {\n        this._direction = 'next';\n\n        this._move();\n      }.bind(this), this._config.interval);\n    }\n  }; // _refresh\n\n\n  ChiefSlider.prototype._refresh = function () {\n    // create some constants\n    const $itemList = this._$itemList;\n    const widthItem = $itemList[0].offsetWidth;\n    const widthWrapper = this._$wrapper.offsetWidth;\n    const itemsInVisibleArea = Math.round(widthWrapper / widthItem);\n\n    if (itemsInVisibleArea === this._itemsInVisibleArea) {\n      return;\n    }\n\n    this._autoplay('stop');\n\n    this._$items.classList.add(SLIDER_TRANSITION_OFF);\n\n    this._$items.style.transform = 'translateX(0)'; // setting properties after reset\n\n    this._widthItem = widthItem;\n    this._widthWrapper = widthWrapper;\n    this._itemsInVisibleArea = itemsInVisibleArea;\n    this._transform = 0;\n    this._transformStep = 100 / itemsInVisibleArea;\n    this._updateItemPositionFlag = false;\n    this._activeItems = []; // setting order and translate items after reset\n\n    for (let i = 0, length = $itemList.length; i < length; i++) {\n      const $item = $itemList[i];\n      const position = i;\n      $item.dataset.index = position;\n      $item.dataset.order = position;\n      $item.dataset.translate = 0;\n      $item.style.transform = 'translateX(0)';\n\n      if (position < itemsInVisibleArea) {\n        this._activeItems.push(position);\n      }\n    }\n\n    this._updateClassForActiveItems();\n\n    window.requestAnimationFrame(function () {\n      this._$items.classList.remove(SLIDER_TRANSITION_OFF);\n    }.bind(this)); // hide prev arrow for non-infinite slider\n\n    if (!this._config.loop) {\n      if (this._$controlPrev) {\n        this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\n      }\n\n      return;\n    } // translate last item before first\n\n\n    const count = $itemList.length - 1;\n    const translate = -$itemList.length * 100;\n    $itemList[count].dataset.order = -1;\n    $itemList[count].dataset.translate = -$itemList.length * 100;\n    $itemList[count].style.transform = 'translateX('.concat(translate, '%)'); // update values of extreme properties\n\n    this._updateExtremeProperties();\n\n    this._updateIndicators(); // calling _autoplay\n\n\n    this._autoplay();\n  }; // public\n\n\n  ChiefSlider.prototype.next = function () {\n    this._moveToNext();\n  };\n\n  ChiefSlider.prototype.prev = function () {\n    this._moveToPrev();\n  };\n\n  ChiefSlider.prototype.moveTo = function (index) {\n    this._moveTo(index);\n  };\n\n  ChiefSlider.prototype.refresh = function () {\n    this._refresh();\n  };\n};\n\n_c = ChiefSlider;\nexport default ChiefSlider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChiefSlider\");","map":{"version":3,"sources":["D:/Program Files (x86)/React/public/git/carsharing/src/components/Content/Slider/chiefslider.js"],"names":["ChiefSlider","SELECTOR_ITEM","SELECTOR_ITEMS","SELECTOR_WRAPPER","SELECTOR_PREV","SELECTOR_NEXT","SELECTOR_INDICATOR","SLIDER_TRANSITION_OFF","CLASS_CONTROL","CLASS_CONTROL_HIDE","CLASS_ITEM_ACTIVE","CLASS_INDICATOR_ACTIVE","hasTouchDevice","window","navigator","maxTouchPoints","hasElementInVew","$elem","rect","getBoundingClientRect","windowHeight","innerHeight","document","documentElement","clientHeight","windowWidth","innerWidth","clientWidth","vertInView","top","height","horInView","left","width","config","_config","loop","autoplay","interval","pauseOnHover","refresh","swipe","_widthItem","_widthWrapper","_itemsInVisibleArea","_transform","_transformStep","_intervalId","_$root","_$wrapper","_$items","_$itemList","_$controlPrev","_$controlNext","_$indicatorList","_minOrder","_maxOrder","_$itemByMinOrder","_$itemByMaxOrder","_minTranslate","_maxTranslate","_direction","_updateItemPositionFlag","_activeItems","_isTouchDevice","_init","_addEventListener","prototype","$root","querySelectorAll","querySelector","$itemList","widthItem","offsetWidth","widthWrapper","itemsInVisibleArea","Math","round","key","hasOwnProperty","i","length","dataset","index","order","translate","push","_updateClassForActiveItems","classList","add","count","style","transform","concat","_updateExtremeProperties","_updateIndicators","_autoplay","addEventListener","_eventHandler","bind","requestAnimationFrame","_refresh","_updateItemPosition","e","_touchStartCoord","changedTouches","clientX","touchEndCoord","delta","_moveToPrev","_moveToNext","$item","$wrapper","$wrapperClientRect","widthHalfItem","wrapperLeft","$min","clientRect","right","wrapperRight","$max","activeItems","indexOf","remove","$indicatorList","contains","_move","step","endTransformValue","activeIndex","newIndex","_moveTo","nearestIndex","diff","$indicator","slideTo","abs","$target","target","preventDefault","slide","action","clearInterval","setInterval","position","next","prev","moveTo"],"mappings":"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","sourcesContent":["\nconst ChiefSlider = () => {\n'use strict';\n\nconst SELECTOR_ITEM = '.slider__item';\nconst SELECTOR_ITEMS = '.slider__items';\nconst SELECTOR_WRAPPER = '.slider__wrapper';\nconst SELECTOR_PREV = '.slider__control[data-slide=\"prev\"]';\nconst SELECTOR_NEXT = '.slider__control[data-slide=\"next\"]';\nconst SELECTOR_INDICATOR = '.slider__indicators>li';\n\nconst SLIDER_TRANSITION_OFF = 'slider_disable-transition';\nconst CLASS_CONTROL = 'slider__control';\nconst CLASS_CONTROL_HIDE = 'slider__control_hide';\nconst CLASS_ITEM_ACTIVE = 'slider__item_active';\nconst CLASS_INDICATOR_ACTIVE = 'active';\n\nfunction hasTouchDevice() {\n  return !!('ontouchstart' in window || navigator.maxTouchPoints);\n}\n\nfunction hasElementInVew($elem) {\n  const rect = $elem.getBoundingClientRect();\n  const windowHeight = window.innerHeight || document.documentElement.clientHeight;\n  const windowWidth = window.innerWidth || document.documentElement.clientWidth;\n  const vertInView = rect.top <= windowHeight && rect.top + rect.height >= 0;\n  const horInView = rect.left <= windowWidth && rect.left + rect.width >= 0;\n  return vertInView && horInView;\n}\n\nfunction ChiefSlider($elem, config) {\n  // configuration of the slider\n  this._config = {\n    loop: true,\n    autoplay: true,\n    interval: 1000,\n    pauseOnHover: true,\n    refresh: true,\n    swipe: true,\n  };\n  // slider properties\n  this._widthItem = 0;\n  this._widthWrapper = 0;\n  this._itemsInVisibleArea = 0;\n  this._transform = 0; // текущее значение трансформации\n  this._transformStep = 0; // значение шага трансформации\n  this._intervalId = null;\n  // elements of slider\n  this._$root = null; // root element of slider (default \".slider__item\")\n  this._$wrapper = null; // element with class \".slider__wrapper\"\n  this._$items = null; // element with class \".slider__items\"\n  this._$itemList = null; // elements with class \".slider__item\"\n  this._$controlPrev = null; // element with class .slider__control[data-slide=\"prev\"]\n  this._$controlNext = null; // element with class .slider__control[data-slide=\"next\"]\n  this._$indicatorList = null; // индикаторы\n  // min and min order\n  this._minOrder = 0;\n  this._maxOrder = 0;\n  // items with min and max order\n  this._$itemByMinOrder = null;\n  this._$itemByMaxOrder = null;\n  // min and max value of translate\n  this._minTranslate = 0;\n  this._maxTranslate = 0;\n  // default slider direction\n  this._direction = 'next';\n  // determines whether the position of item needs to be determined\n  this._updateItemPositionFlag = false;\n  this._activeItems = [];\n  this._isTouchDevice = hasTouchDevice();\n\n  // constructor\n  this._init($elem, config);\n  this._addEventListener();\n}\n\n// initial setup of slider\nChiefSlider.prototype._init = function ($root, config) {\n  // elements of slider\n  this._$root = $root;\n  this._$itemList = $root.querySelectorAll(SELECTOR_ITEM);\n  this._$items = $root.querySelector(SELECTOR_ITEMS);\n  this._$wrapper = $root.querySelector(SELECTOR_WRAPPER);\n  this._$controlPrev = $root.querySelector(SELECTOR_PREV);\n  this._$controlNext = $root.querySelector(SELECTOR_NEXT);\n  this._$indicatorList = $root.querySelectorAll(SELECTOR_INDICATOR);\n  // create some constants\n  const $itemList = this._$itemList;\n  const widthItem = $itemList[0].offsetWidth;\n  const widthWrapper = this._$wrapper.offsetWidth;\n  const itemsInVisibleArea = Math.round(widthWrapper / widthItem);\n  // initial setting properties\n  this._widthItem = widthItem;\n  this._widthWrapper = widthWrapper;\n  this._itemsInVisibleArea = itemsInVisibleArea;\n  this._transformStep = 100 / itemsInVisibleArea;\n  for (let key in config) {\n    if (this._config.hasOwnProperty(key)) {\n      this._config[key] = config[key];\n    }\n  }\n  // initial setting order and translate items\n  for (let i = 0, length = $itemList.length; i < length; i++) {\n    $itemList[i].dataset.index = i;\n    $itemList[i].dataset.order = i;\n    $itemList[i].dataset.translate = 0;\n    if (i < itemsInVisibleArea) {\n      this._activeItems.push(i);\n    }\n  }\n  this._updateClassForActiveItems();\n  // hide prev arrow for non-infinite slider\n  if (!this._config.loop) {\n    if (this._$controlPrev) {\n      this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\n    }\n    return;\n  }\n  // translate last item before first\n  const count = $itemList.length - 1;\n  const translate = -$itemList.length * 100;\n  $itemList[count].dataset.order = -1;\n  $itemList[count].dataset.translate = -$itemList.length * 100;\n  $itemList[count].style.transform = 'translateX('.concat(translate, '%)');\n  // update values of extreme properties\n  this._updateExtremeProperties();\n  this._updateIndicators();\n  // calling _autoplay\n  this._autoplay();\n};\n\n// подключения обработчиков событий для слайдера\nChiefSlider.prototype._addEventListener = function () {\n  const $root = this._$root;\n\n  // on click\n  $root.addEventListener('click', this._eventHandler.bind(this));\n\n  // on hover\n  if (this._config.autoplay && this._config.pauseOnHover) {\n    $root.addEventListener(\n      'mouseenter',\n      function () {\n        this._autoplay('stop');\n      }.bind(this)\n    );\n    $root.addEventListener(\n      'mouseleave',\n      function () {\n        this._autoplay();\n      }.bind(this)\n    );\n  }\n\n  // on resize\n  if (this._config.refresh) {\n    window.addEventListener(\n      'resize',\n      function () {\n        window.requestAnimationFrame(this._refresh.bind(this));\n      }.bind(this)\n    );\n  }\n\n  // on transitionstart and transitionend\n  if (this._config.loop) {\n    this._$items.addEventListener(\n      'transitionstart',\n      function () {\n        // transitionstart\n        this._updateItemPositionFlag = true;\n        window.requestAnimationFrame(this._updateItemPosition.bind(this));\n      }.bind(this)\n    );\n    this._$items.addEventListener(\n      'transitionend',\n      function () {\n        // transitionend\n        this._updateItemPositionFlag = false;\n      }.bind(this)\n    );\n  }\n\n  // on touchstart and touchend\n  if (this._isTouchDevice && this._config.swipe) {\n    $root.addEventListener(\n      'touchstart',\n      function (e) {\n        this._touchStartCoord = e.changedTouches[0].clientX;\n      }.bind(this)\n    );\n    $root.addEventListener(\n      'touchend',\n      function (e) {\n        const touchEndCoord = e.changedTouches[0].clientX;\n        const delta = touchEndCoord - this._touchStartCoord;\n        if (delta > 50) {\n          this._moveToPrev();\n        } else if (delta < -50) {\n          this._moveToNext();\n        }\n      }.bind(this)\n    );\n  }\n\n  // on mousedown and mouseup\n  if (!this._isTouchDevice && this._config.swipe) {\n    $root.addEventListener(\n      'mousedown',\n      function (e) {\n        this._touchStartCoord = e.clientX;\n      }.bind(this)\n    );\n    $root.addEventListener(\n      'mouseup',\n      function (e) {\n        const touchEndCoord = e.clientX;\n        const delta = touchEndCoord - this._touchStartCoord;\n        if (delta > 50) {\n          this._moveToPrev();\n        } else if (delta < -50) {\n          this._moveToNext();\n        }\n      }.bind(this)\n    );\n  }\n};\n\n// update values of extreme properties\nChiefSlider.prototype._updateExtremeProperties = function () {\n  const $itemList = this._$itemList;\n  this._minOrder = +$itemList[0].dataset.order;\n  this._maxOrder = this._minOrder;\n  this._$itemByMinOrder = $itemList[0];\n  this._$itemByMaxOrder = $itemList[0];\n  this._minTranslate = +$itemList[0].dataset.translate;\n  this._maxTranslate = this._minTranslate;\n  for (let i = 0, length = $itemList.length; i < length; i++) {\n    const $item = $itemList[i];\n    const order = +$item.dataset.order;\n    if (order < this._minOrder) {\n      this._minOrder = order;\n      this._$itemByMinOrder = $item;\n      this._minTranslate = +$item.dataset.translate;\n    } else if (order > this._maxOrder) {\n      this._maxOrder = order;\n      this._$itemByMaxOrder = $item;\n      this._minTranslate = +$item.dataset.translate;\n    }\n  }\n};\n\n// update position of item\nChiefSlider.prototype._updateItemPosition = function () {\n  if (!this._updateItemPositionFlag) {\n    return;\n  }\n  const $wrapper = this._$wrapper;\n  const $wrapperClientRect = $wrapper.getBoundingClientRect();\n  const widthHalfItem = $wrapperClientRect.width / this._itemsInVisibleArea / 2;\n  const count = this._$itemList.length;\n  if (this._direction === 'next') {\n    const wrapperLeft = $wrapperClientRect.left;\n    const $min = this._$itemByMinOrder;\n    let translate = this._minTranslate;\n    const clientRect = $min.getBoundingClientRect();\n    if (clientRect.right < wrapperLeft - widthHalfItem) {\n      $min.dataset.order = this._minOrder + count;\n      translate += count * 100;\n      $min.dataset.translate = translate;\n      $min.style.transform = 'translateX('.concat(translate, '%)');\n      // update values of extreme properties\n      this._updateExtremeProperties();\n    }\n  } else {\n    const wrapperRight = $wrapperClientRect.right;\n    const $max = this._$itemByMaxOrder;\n    let translate = this._maxTranslate;\n    const clientRect = $max.getBoundingClientRect();\n    if (clientRect.left > wrapperRight + widthHalfItem) {\n      $max.dataset.order = this._maxOrder - count;\n      translate -= count * 100;\n      $max.dataset.translate = translate;\n      $max.style.transform = 'translateX('.concat(translate, '%)');\n      // update values of extreme properties\n      this._updateExtremeProperties();\n    }\n  }\n  // updating...\n  requestAnimationFrame(this._updateItemPosition.bind(this));\n};\n\n// _updateClassForActiveItems\nChiefSlider.prototype._updateClassForActiveItems = function () {\n  const activeItems = this._activeItems;\n  const $itemList = this._$itemList;\n  for (let i = 0, length = $itemList.length; i < length; i++) {\n    const $item = $itemList[i];\n    const index = +$item.dataset.index;\n    if (activeItems.indexOf(index) > -1) {\n      $item.classList.add(CLASS_ITEM_ACTIVE);\n    } else {\n      $item.classList.remove(CLASS_ITEM_ACTIVE);\n    }\n  }\n};\n\n// _updateIndicators\nChiefSlider.prototype._updateIndicators = function () {\n  const $indicatorList = this._$indicatorList;\n  const $itemList = this._$itemList;\n  if (!$indicatorList.length) {\n    return;\n  }\n  for (let index = 0, length = $itemList.length; index < length; index++) {\n    const $item = $itemList[index];\n    if ($item.classList.contains(CLASS_ITEM_ACTIVE)) {\n      $indicatorList[index].classList.add(CLASS_INDICATOR_ACTIVE);\n    } else {\n      $indicatorList[index].classList.remove(CLASS_INDICATOR_ACTIVE);\n    }\n  }\n};\n\n// move slides\nChiefSlider.prototype._move = function () {\n  if (!hasElementInVew(this._$root)) {\n    return;\n  }\n\n  const step = this._direction === 'next' ? -this._transformStep : this._transformStep;\n  const transform = this._transform + step;\n\n  if (!this._config.loop) {\n    const endTransformValue =\n      this._transformStep * (this._$itemList.length - this._itemsInVisibleArea);\n    if (transform < -endTransformValue || transform > 0) {\n      return;\n    }\n    this._$controlPrev.classList.remove(CLASS_CONTROL_HIDE);\n    this._$controlNext.classList.remove(CLASS_CONTROL_HIDE);\n    if (transform === -endTransformValue) {\n      this._$controlNext.classList.add(CLASS_CONTROL_HIDE);\n    } else if (transform === 0) {\n      this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\n    }\n  }\n\n  const activeIndex = [];\n  if (this._direction === 'next') {\n    for (let i = 0, length = this._activeItems.length; i < length; i++) {\n      let index = this._activeItems[i];\n      let newIndex = ++index;\n      if (newIndex > this._$itemList.length - 1) {\n        newIndex -= this._$itemList.length;\n      }\n      activeIndex.push(newIndex);\n    }\n  } else {\n    for (let i = 0, length = this._activeItems.length; i < length; i++) {\n      let index = this._activeItems[i];\n      let newIndex = --index;\n      if (newIndex < 0) {\n        newIndex += this._$itemList.length;\n      }\n      activeIndex.push(newIndex);\n    }\n  }\n  this._activeItems = activeIndex;\n  this._updateClassForActiveItems();\n  this._updateIndicators();\n\n  this._transform = transform;\n  this._$items.style.transform = 'translateX('.concat(transform, '%)');\n};\n\n// _moveToNext\nChiefSlider.prototype._moveToNext = function () {\n  this._direction = 'next';\n  this._move();\n};\n\n// _moveToPrev\nChiefSlider.prototype._moveToPrev = function () {\n  this._direction = 'prev';\n  this._move();\n};\n\n// _moveTo\nChiefSlider.prototype._moveTo = function (index) {\n  const $indicatorList = this._$indicatorList;\n  let nearestIndex = null;\n  let diff = null;\n  for (let i = 0, length = $indicatorList.length; i < length; i++) {\n    const $indicator = $indicatorList[i];\n    if ($indicator.classList.contains(CLASS_INDICATOR_ACTIVE)) {\n      const slideTo = +$indicator.dataset.slideTo;\n      if (diff === null) {\n        nearestIndex = slideTo;\n        diff = Math.abs(index - nearestIndex);\n      } else {\n        if (Math.abs(index - slideTo) < diff) {\n          nearestIndex = slideTo;\n          diff = Math.abs(index - nearestIndex);\n        }\n      }\n    }\n  }\n  diff = index - nearestIndex;\n  if (diff === 0) {\n    return;\n  }\n  this._direction = diff > 0 ? 'next' : 'prev';\n  for (let i = 1; i <= Math.abs(diff); i++) {\n    this._move();\n  }\n};\n\n// обработчик click для слайдера\nChiefSlider.prototype._eventHandler = function (e) {\n  const $target = e.target;\n  this._autoplay('stop');\n  if ($target.classList.contains(CLASS_CONTROL)) {\n    // при клике на кнопки влево и вправо\n    e.preventDefault();\n    this._direction = $target.dataset.slide;\n    this._move();\n  } else if ($target.dataset.slideTo) {\n    // при клике на индикаторы\n    const index = +$target.dataset.slideTo;\n    this._moveTo(index);\n  }\n  this._autoplay();\n};\n\n// _autoplay\nChiefSlider.prototype._autoplay = function (action) {\n  if (!this._config.autoplay) {\n    return;\n  }\n  if (action === 'stop') {\n    clearInterval(this._intervalId);\n    this._intervalId = null;\n    return;\n  }\n  if (this._intervalId === null) {\n    this._intervalId = setInterval(\n      function () {\n        this._direction = 'next';\n        this._move();\n      }.bind(this),\n      this._config.interval\n    );\n  }\n};\n\n// _refresh\nChiefSlider.prototype._refresh = function () {\n  // create some constants\n  const $itemList = this._$itemList;\n  const widthItem = $itemList[0].offsetWidth;\n  const widthWrapper = this._$wrapper.offsetWidth;\n  const itemsInVisibleArea = Math.round(widthWrapper / widthItem);\n\n  if (itemsInVisibleArea === this._itemsInVisibleArea) {\n    return;\n  }\n\n  this._autoplay('stop');\n\n  this._$items.classList.add(SLIDER_TRANSITION_OFF);\n  this._$items.style.transform = 'translateX(0)';\n\n  // setting properties after reset\n  this._widthItem = widthItem;\n  this._widthWrapper = widthWrapper;\n  this._itemsInVisibleArea = itemsInVisibleArea;\n  this._transform = 0;\n  this._transformStep = 100 / itemsInVisibleArea;\n  this._updateItemPositionFlag = false;\n  this._activeItems = [];\n\n  // setting order and translate items after reset\n  for (let i = 0, length = $itemList.length; i < length; i++) {\n    const $item = $itemList[i];\n    const position = i;\n    $item.dataset.index = position;\n    $item.dataset.order = position;\n    $item.dataset.translate = 0;\n    $item.style.transform = 'translateX(0)';\n    if (position < itemsInVisibleArea) {\n      this._activeItems.push(position);\n    }\n  }\n\n  this._updateClassForActiveItems();\n\n  window.requestAnimationFrame(\n    function () {\n      this._$items.classList.remove(SLIDER_TRANSITION_OFF);\n    }.bind(this)\n  );\n\n  // hide prev arrow for non-infinite slider\n  if (!this._config.loop) {\n    if (this._$controlPrev) {\n      this._$controlPrev.classList.add(CLASS_CONTROL_HIDE);\n    }\n    return;\n  }\n\n  // translate last item before first\n  const count = $itemList.length - 1;\n  const translate = -$itemList.length * 100;\n  $itemList[count].dataset.order = -1;\n  $itemList[count].dataset.translate = -$itemList.length * 100;\n  $itemList[count].style.transform = 'translateX('.concat(translate, '%)');\n  // update values of extreme properties\n  this._updateExtremeProperties();\n  this._updateIndicators();\n  // calling _autoplay\n  this._autoplay();\n};\n\n// public\nChiefSlider.prototype.next = function () {\n  this._moveToNext();\n};\nChiefSlider.prototype.prev = function () {\n  this._moveToPrev();\n};\nChiefSlider.prototype.moveTo = function (index) {\n  this._moveTo(index);\n};\nChiefSlider.prototype.refresh = function () {\n  this._refresh();\n};\n\n\n}\n\n\nexport default ChiefSlider;"]},"metadata":{},"sourceType":"module"}